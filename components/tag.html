<md-chips ng-model="$ctrl.selectedChips" md-autocomplete-snap md-transform-chip=$ctrl.transformChip($chip)
  md-autocomplete-snap md-autocomplete-wrap-override md-on-select="$ctrl.addChip($chip)" md-on-remove="$ctrl.removeChip($chip)">
  <md-autocomplete md-min-length="0" md-no-cache="true" md-autoselect="true" md-items="model in $ctrl.queryData($ctrl.queryText)"
    md-item-text="model.name || model.data.name" md-search-text="$ctrl.queryText" placeholder="Add Tag">
    <md-item-template>
      <span ng-show="!$ctrl.isDisabled(model)" md-highlight-text="$ctrl.queryText">
        {{ model.name || model.data.name }}
      </span>
      <span class="" ng-show="$ctrl.isDisabled(model)" ng-click="$ctrl.disableTag($event)" md-highlight-text="$ctrl.queryText">
        {{ model.name || model.data.name }}
      </span>
    </md-item-template>
    <md-item-template>
      <div flex>
        <span md-highlight-text="$ctrl.queryText">{{ model.name || model.data.name }}</span>
      </div>
      <div flex ng-click="$ctrl.createTag($ctrl.queryText)" class="createtag">
        create new tag for "{{ $ctrl.queryText }}" ?</div>
    </md-item-template>
    <md-not-found ng-if="$ctrl.queryText">
      <div ng-click="$ctrl.createTag($ctrl.queryText)" class="createtag">
        create new tag for "{{ $ctrl.queryText }}" ?
      </div>
    </md-not-found>
  </md-autocomplete>

  <md-chip-template>
    <span>
      <strong> {{ $chip.name }} </strong>
      <em ng-show="$index != null"> ({{ $index + 1 }}) </em>
    </span>
  </md-chip-template>
</md-chips>
