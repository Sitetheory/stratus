<mat-card [attr.id]="elementId">
    <mat-card-content data-layout-padding [hidden]="cardSaved">
        <!-- TODO add a form to collect Billing info for the card as an option -->
        <div *ngIf="detailedBillingInfo" class="billing-info">
            <mat-form-field class="md-block">
                <mat-label>Name</mat-label>
                <input matInput [(ngModel)]="billingInfo.name" [disabled]="!isEditable()">
            </mat-form-field>
            <mat-form-field class="md-block">
                <mat-label>Email</mat-label>
                <input matInput [(ngModel)]="billingInfo.email" [disabled]="!isEditable()">
            </mat-form-field>
            <mat-form-field class="md-block">
                <mat-label>Address</mat-label>
                <input matInput [(ngModel)]="billingInfo.address.line1" [disabled]="!isEditable()">
            </mat-form-field>
            <mat-form-field class="md-block">
                <mat-label>Address 2</mat-label>
                <input matInput [(ngModel)]="billingInfo.address.line2" [disabled]="!isEditable()">
            </mat-form-field>
            <mat-form-field class="md-block">
                <mat-label>City</mat-label>
                <input matInput [(ngModel)]="billingInfo.address.city" [disabled]="!isEditable()">
            </mat-form-field>
            <div data-layout-gt-sm="row">
                <mat-form-field class="md-block" flex-gt-sm>
                    <mat-label>State</mat-label>
                    <input matInput [(ngModel)]="billingInfo.address.state" [disabled]="!isEditable()">
                </mat-form-field>
                <mat-form-field class="md-block" flex-gt-sm>
                    <mat-label>Zip</mat-label>
                    <input matInput name="postalCode" [(ngModel)]="billingInfo.address.postal_code"
                           pattern="/^[0-9]{5}$/" maxlength="5" [disabled]="!isEditable()">
                </mat-form-field>
            </div>
        </div>
        <div [attr.id]="elementId+'-mount'" class="card-element" [class.no-pointer-event]="!isEditable()"></div>
        <div [attr.id]="elementId+'-errors'" class="card-errors" role="alert"></div>
        <button (click)="saveCard()" [disabled]="!isSubmittable()">Save Payment Method</button>
        <mat-spinner *ngIf="formPending"></mat-spinner>
    </mat-card-content>
    <mat-card-content data-layout-padding [hidden]="!cardSaved">
        <p>
            Payment Method Saved
        </p>
    </mat-card-content>
</mat-card>
