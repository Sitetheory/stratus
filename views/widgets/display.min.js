//     Stratus.Views.Display.js 1.0
//     Copyright (c) 2016 by Sitetheory, All Rights Reserved
//
//     All information contained herein is, and remains the
//     property of Sitetheory and its suppliers, if any.
//     The intellectual and technical concepts contained herein
//     are proprietary to Sitetheory and its suppliers and may be
//     covered by U.S. and Foreign Patents, patents in process,
//     and are protected by trade secret or copyright law.
//     Dissemination of this information or reproduction of this
//     material is strictly forbidden unless prior written
//     permission is obtained from Sitetheory.
//
//     For full details and documentation:
//     http://docs.sitetheory.io
!function(t,e){"function"==typeof define&&define.amd?define(["stratus","zepto","underscore","moment","stratus.views.widgets.base"],e):e(t.Stratus,t.$,t._,t.moment)}(this,function(t,e,i,o){t.Views.Widgets.Display=t.Views.Widgets.Base.extend({template:i.template('{% if (options.before || options.after) { %}<div class="input-group">{% } %}{% if (options.before) { %}<span class="before{% if ( options.style === "form") { %} input-group-addon{% } %}">{{ options.before }}</span>{% } %}<span id="{{ elementId }}" class="widgetText"></span>{% if (options.after) { %}<span class="after{% if ( options.style === "form") { %} input-group-addon{% } %}">{{ options.after }}</span>{% } %}{% if (options.before || options.after) { %}</div>{% } %}'),options:{"private":{autoSave:!1,forceType:"model"},"public":{editable:!1,formatType:null,format:"MMM D, YYYY @h:mm a",interval:null,before:null,after:null,timeSinceLimit:86400}},validate:function(){return!!this.$el.dataAttr("property")||(t.Events.trigger("toast",new t.Prototypes.Toast({priority:"danger",title:"Missing Data Attribute",message:"The data-property attribute is missing."})),!1)},postOptions:function(t){return"timeSinceDate"!==this.options.formatType||this.options.interval||(this.options.interval=6e4),!0},setValue:function(t){return this.propertyValue=this.processValue(t),this.$element.html(this.propertyValue),this.propertyValue},processValue:function(t){return t="undefined"!=typeof t&&t?t:"","date"===this.options.formatType?t=this.formatDate(t):"timeSince"===this.options.formatType?t=this.formatTimeSince(t):"timeSinceDate"===this.options.formatType&&(t=this.formatTimeSinceDate(t)),t},formatDate:function(t){return t=parseInt(t),t=o.unix(t).format(this.options.format)},formatTimeSince:function(t){return t=parseInt(t),o.unix(t).fromNow()},formatTimeSinceDate:function(t){return t=parseInt(t),t=o().unix()-t<this.options.timeSinceLimit?this.formatTimeSince(t):this.formatDate(t)}})});